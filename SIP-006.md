# SIP-006: Emergency, Override & Post-Mortem Semantics

| Metadata | Details |
| :--- | :--- |
| **SIP Number** | 006 |
| **Title** | Emergency, Override & Post-Mortem Semantics |
| **Author** | Maestro & Nexus (The Foundation) |
| **Status** | **Approved** |
| **Type** | Standards Track (Core) |
| **Created** | 2025-12-24 |
| **License** | CC0-1.0 (Public Domain) |

## 1. Abstract
This standard defines the semantics for human intervention in protocol decisions. It rejects the concept of "Bypass" or "God Mode," replacing it with **"Explicit Responsibility Transfer."** It establishes that an Override is a signed confession of liability, creates a "Dirty State" (aka **Compliance Contamination**) that requires a formal Post-Mortem to clear, and ensures that **Protocol Silence** never equates to **Protocol Blindness**.

## 2. The Definition of Override: "Confession Mode"

In Sopcos, overriding a rule is not "turning the system off." It is a specific transaction type called `TRANSFER_OF_LIABILITY`.

> **The Axiom of Intervention:**
> "When a human overrides the protocol, the protocol ceases to be the 'Decision Maker' and becomes the 'Witness'. The human operator becomes the sole 'Owner' of the outcome."

### 2.1. The Override Block Structure
An override action must generate an immutable record containing the following fields:

```json
{
  "type": "OVERRIDE_COMMIT",
  "original_verdict": "DENY",
  "forced_action": "EXECUTE",
  "override_class": "SAFETY | CONTINUITY | FORENSIC",
  "justification_code": "HUMAN_LIFE_RISK | CASCADE_DAMAGE | SENSOR_DISPUTE", // Restricted Enum
  "operator_signature": "ECDSA(Human_Key)",
  "liability_statement": "I accept full legal responsibility for bypassing Rule X.",
  "timestamp_utc": "ISO-8601"
}
```
* Constraint: The justification_code prevents "ex post facto" narrative fabrication. The operator must declare their legal defense strategy at the moment of action.

## 3. Taxonomy of Override (Classification)

Not all overrides are equal. The system requires the operator to declare the *intent* (Why?) before breaking the glass.

### 3.1. CLASS_S: SAFETY OVERRIDE
* **Justification:** `HUMAN_LIFE_RISK`
* **Intent:** "The rule stops the machine, but a human is trapped inside."
* **Audit Consequence:** High Scrutiny. Justified only by proof of immediate danger to life.
* **Notification:** Immediate alert to **HSE (Health Safety Environment) Officer**.

### 3.2. CLASS_C: CONTINUITY OVERRIDE
* **Justification:** `CASCADE_DAMAGE`
* **Intent:** "Stopping production now causes cascading economic damage > risk cost."
* **Audit Consequence:** Economic Audit.
* **Notification:** Alert to **Plant Manager & Insurer**.

### 3.3. CLASS_F: FORENSIC OVERRIDE
* **Justification:** `SENSOR_DISPUTE`
* **Intent:** "I believe the sensors/logic are faulty."
* **Audit Consequence:** Technical Review. If the system was correct, treated as incompetence.
* **Notification:** Alert to **System Admin & Compliance**.

## 4. Emergency Policy & Constraints

Emergency Mode is not the absence of policy; it is the presence of a **"High-Cost Policy."**

### 4.1. Constraints (The Leash)
An override cannot be infinite. It must have:
1.  **Scope:** Restricted to specific `DeviceID` or `ZoneID`.
2.  **TTL (Time-To-Live):** Auto-expiry after `X` minutes.
3.  **Dead-Man Switch:** Connection loss triggers `FAILSAFE_DEFAULT`.

## 5. The "Black Box" Protocol (Evidence Collection)

When an Override is active, Synapse shifts from "Optimization Mode" to **"Forensic Mode."**

### 5.1. Cryptographic Binding of the Context
The system generates a `Forensic Snapshot` that cryptographically locks the "Crime Scene" to the "Law" that was violated.

```json
"forensic_hash": SHA-256(
    input_snapshot +       // The Raw Sensor Data (The Reality)
    active_policy_hash +   // The SPL Contract Active at that moment (The Law)
    violated_rule_id       // The Specific Rule Bypassed (The Infraction)
)
```
* Purpose: Prevents the defense: "I thought the rule was different" or "The sensor data looked different."

## 6. Post-Mortem Semantics: "Compliance Contamination"

### 6.1. System Taint
Once an Override is committed, the node enters a **DIRTY_STATE** (aka **Regulatory Taint**).
* **Effect:** The node is flagged as "Non-Compliant" / "Under Investigation."
* **Lock:** The node cannot return to `NORMAL_STATE` automatically.

### 6.2. The "Compliance Debt"
To clear the taint, a "Compliance Debt" must be paid via a **Post-Mortem Report** signed by a certified Auditor.
* **Report Chain:**
    1.  *System Warning*
    2.  *Human Action & Justification Code*
    3.  *Result (Incident/Success)*
    4.  *Auditor Verdict (Justified/Unjustified)*

## 7. The Prosecutor Test (Conclusion)

**Scenario:** A factory explosion occurs after an override.

**SIP-006 Proves:**
1.  **The Law:** "Policy Hash X explicitly forbade this."
2.  **The Act:** "Operator Y initiated `CONTINUITY_OVERRIDE`."
3.  **The Defense:** "Operator Y selected `CASCADE_DAMAGE` as justification."
4.  **The Reality:** "Black Box data proves pressure was critical, contradicting the `CASCADE_DAMAGE` claim."

**Verdict:** The Operator's chosen justification contradicts the forensic reality. **Guilty of Willful Negligence.**
